<h1>餐點清單</h1>
<a href='/admin/products/create'>
    <button type="button" class="btn btn-primary">新增餐點</button>
</a>
<br />
<br />
<table class="table align-middle">
    <thead class="thead-dark">
        <tr>
            <th scope="col">#</th>
            <th scope="col">名稱</th>
            <th scope="col">分類</th>
            <th scope="col">價格</th>
            <th scope="col">商品說明</th>
            <th scope="col">提供狀態</th>
            <th scope="col">功能</th>
        </tr>
    </thead>
    <tbody>
        {{#each products}}
        <tr>
            <th scope="row">{{this.id}}</th>
            <td>{{this.name}}</td>
            <td>{{this.Category.name}}</td>
            <td>{{this.price}}</td>
            <td>{{this.description}}</td>
            <td>{{#if this.isAvailable}}是{{else}}否{{/if}}</td>
            <td>
                <button type="button" class="btn btn-link">
                    <a class="btn btn-link link-primary" href="/admin/products/{{this.id}}">
                        詳細
                    </a>
                </button>
                <form action="/admin/products/{{this.id}}?_method=DELETE" method="POST" style="display: inline;">
                    <button type="button" class="btn btn-link link-danger" data-bs-toggle="modal"
                        data-bs-target="#deleteModal{{this.id}}">刪除</button>

                    <!-- Modal -->
                    <div class="modal fade" id="deleteModal{{this.id}}" tabindex="-1"
                        aria-labelledby="deleteModal{{this.id}}Label" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">確認刪除 {{this.name}} 嗎</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-footer">
                                    <button type="submit" class="btn btn-danger">確認刪除</button>
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </td>
        </tr>
        {{/each}}
    </tbody>
</table>